<% if @user.badges.length > 0 %>
<div class="widget-16 panel no-margin widget-loader-circle">
    <div class="panel-heading">
        <div class="panel-title b-b b-grey p-b-5">
          <i class="fa fa-shield text-danger"></i> Badges
        </div>
    </div>

    <div class="panel-body">
        <p class="m-b-5 small m-t-5"><%= pluralize(@user.badges.length, 'Badge') %></p>
        <ul class="list-unstyled">
            <% @user.badges.take(8).each do |badge| %>
                <li class="m-r-10">
                    <div class="thumbnail-wrapper d32 circular b-white m-r-5 m-b-5 b-a b-white">
                        <% if @user.avatar.present? %>
                            <%= image_tag(badge.first.custom_fields[:image], :"data-src" => "#{badge.first.custom_fields[:image]}", :"data-src-retina" => "#{badge.first.custom_fields[:image]}", width: "35", height: "35") %>
                        <% else %>
                            <span class="placeholder bold text-white"><%= badge.first.custom_fields[:name].first + badge.first.custom_fields[:name].second %>
                            </span>
                        <% end %>
                    </div>
                </li>
            <% end %>
            <% if @user.badges.length > 8 %>
                <li>
                    <div class="thumbnail-wrapper d32 circular b-white">
                        <div class="bg-master text-center text-white">
                            <span>+34</span>
                        </div>
                    </div>
                </li>
            <% end %>
        </ul>
    </div>
</div>
<% end %>