<div class="box-shadow bg-white">
  <div class="profile-nav p-l-10 row">
    <div class="col-md-6 no-padding p-l-15">
        <ul class="profile-name inline no-style no-margin p-t-15 p-b-15">
          <li class="inline b-r b-grey b-dashed p-r-15">
            <div class="thumbnail-wrapper absolute m-r-5 d32 circular bordered b-white">
            <%= link_to(profile_path(@idea.fetch_user), :"data-popover-href" => "#{profile_card_path(@idea.fetch_user)}", class: 'load-card') do %>
            <% if @idea.fetch_user.avatar.present? %>
              <%= image_tag(@idea.fetch_user.avatar.url(:avatar), :"data-src" => "#{@idea.fetch_user.avatar.url(:avatar)}", :"data-src-retina" => "#{@idea.fetch_user.avatar.url(:square)}", width: "32", height: "32") %>
              <% else %>
              <span class="placeholder bold text-white" width="32px" height="32px"><%= @idea.fetch_user.first_name.first + @idea.fetch_user.last_name.first %>
              </span>
              <% end %>
            <% end %>
            </div>
            <%= link_to("Idea", idea_path(@idea), class: "bold m-l-45 fs-13 #{current_class?(idea_path(@idea))}") %>
          </li>
          <li class="inline b-r b-grey b-dashed p-l-15 p-r-15">
            <%= link_to("Feedbacks", idea_feedbacks_path(@idea), class: "text-brand bold fs-13 #{current_class?(idea_feedbacks_path(@idea))}") %>
          </li>
          <li class="inline b-r b-grey b-dashed p-l-15 p-r-15">
            <%= link_to("Q/A", comments_idea_path(@idea), data: { toggle: "modal", target: "#modalSlideComments"}, class: "text-brand bold fs-13", remote: true) %>
          </li>
        </ul>
    </div>
    <div class="profile-action-buttons pull-right p-t-10 p-b-10 p-r-15">
      <% if !policy(@idea).collaborator? %>
        <% voted = @idea.voted?(current_user) %>
        <%= react_component('Upvote', {record: @idea.uuid, voted: voted, vote_url: vote_path(votable_type: @idea.class.to_s, votable_id: @idea.uuid), votes_count: @idea.votes_counter.value, voters_path: voters_path(votable_type: @idea.class.to_s, votable_id: @idea.uuid), css_class: 'vote-button add_vote pull-left', button_style: true}.to_json) %>
        <%= react_component('OpenFeedbackButton', { :feedbacked => @idea.feedbacked?(current_user), form: {idea_slug: @idea.slug, idea_name: @idea.name} }.to_json) %>
        <%= react_component('InvestButton',{ :invested => @idea.invested?(current_user), idea: invested? }) %>
      <% else %>
        <% publish_path = @idea.published? ? unpublish_idea_path(@idea) : publish_idea_path(@idea) %>
        <%= react_component('PublishIdeaButton', {published: @idea.published?, url: publish_path, profile_complete: @idea.profile_complete?, is_team: @idea.team?, current_privacy: @idea.privacy, is_public:@idea.everyone?})%>
      <% end %>
    </div>
  </div>
</div>