<div class="idea-sidebar auto-height bg-white box-shadow">
  <%= react_component('LatestFeed', {idea_id: @idea.uuid, notifications: @notifications.map{|n| n.json_blob }, next_page: @notifications.next_page, channel_name: "idea-feed-#{@idea.uuid}", channel_event: "new_ticker_item", name: @idea.name}.to_json) %>

  <%= render partial: 'ideas/card_stats' %>

  <% cache(["idea_badges", @idea, @idea.badges.length]) do %>
    <%= render partial: 'ideas/badges' %>
  <% end %>

  <% cache(["idea_team", @idea, @idea.in_team?(current_user) ? "team" : "guest"]) do %>
    <%= render partial: 'ideas/team'%>
  <% end %>

  <% cache(["idea_voters", @idea, @idea.votes_counter.value]) do %>
    <%= render partial: 'ideas/voters' if @idea.votes_counter.value > 0 %>
  <% end %>

  <% cache(["idea_investors", @idea, @idea.investors_counter.value]) do %>
    <%= render partial: 'ideas/investors' if @idea.investors_counter.value > 0 %>
  <% end %>
</div>
