<% cache(cache_key_for_idea(idea)) do %>
<li class="user-list clearfix p-t-15 p-b-15">
    <span class="col-xs-height">
      <%= link_to(profile_path(idea.user)) do %>
        <% if idea.user.avatar_present? %>
          <span class="thumbnail-wrapper d48 circular bg-success">
            <%= image_tag(idea.user.get_avatar, data: {src:  idea.user.get_avatar, :"src-retina" => idea.user.get_avatar},  class: "col-top", width: "34", height: "34") %>
          </span>
        <% else %>
          <div class="thumbnail-wrapper d48 inline circular">
            <span class="placeholder bold text-white">
              <%= idea.user.name_badge.upcase %>
            </span>
          </div>
        <% end %>
      <% end %>
    </span>
    <div class="p-l-10 col-xs-height col-middle col-xs-12 col-md-6 col-sm-6">
     <h5 class="text-master no-margin bold inline fs-14">
       <a href="<%= idea_path(idea) %>" class="inline">
         <%= idea.name %>
       </a>
     </h5>
      <% if idea.founder?(current_user) %>
        <span class="badge m-l-10 badge-green">
          founder
        </span>
      <% end %>

      <% if idea.team_member?(current_user) %>
        <span class="badge badge-inverse">
          team
        </span>
      <% end %>
      <p class="fs-14 p-t-5 block people-info text-master no-margin">
        <% if idea.cached_market_list.present? %>
        <span class="small-text">
          <% idea.market_list.each do |tag| %>
            <%= link_to("@#{tag.parameterize}", tag_people_path(tag.parameterize)) %>
          <% end %>
        </span>
        <% end %>
      </p>
      <p class="text-master p-t-5">
        <%= idea.elevator_pitch %>
      </p>
    </div>
   <div class="p-l-10 col-xs-height col-middle col-md-3 col-sm-3 hidden-xs">
     <div class="user-stats-list no-border">
       <div class="col-sm-6 text-center">
         Feedbacks
         <span class="text-master">
         <%= number_to_human(idea.feedbackers_counter.value,  :format => '%n%u', :units => { :thousand => 'K' }) %>
         </span>
       </div>
       <div class="col-sm-6 text-center">
         Score
         <span class="text-master displayblock text-center">
           <%= number_to_human(User.leaderboard.score(idea.id) || 0,  :format => '%n%u', :units => { :thousand => 'K' }) %>
         </span>
       </div>
     </div>
   </div>
  <div class="card-vote-button text-center pull-reset p-l-10 col-xs-height col-middle hidden-xs col-sm-3 col-md-3">
    <% voted = idea.voted?(current_user) %>
    <%= react_component('Upvote', {record: idea.uuid, voted: voted, vote_url: vote_path(votable_type: idea.class.to_s, votable_id: idea.uuid), votes_count: idea.votes_counter.value, voters_path: voters_path(votable_type: idea.class.to_s, votable_id: idea.uuid), css_class: 'vote-button add_vote pull-left', button_style: true}.to_json) %>
    <script type="text/javascript">
       ReactRailsUJS.mountComponents();
    </script>
  </div>
</li>
<% end %>
